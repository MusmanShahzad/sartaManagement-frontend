function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{C7ym:function(e,t,i){"use strict";i.r(t),i.d(t,"BuildingModule",(function(){return Ie}));var n=i("ofXK"),r=i("QQEI"),d=i("fXoL"),o=i("xJkR"),c=i("5eHb"),s=i("tyNb");function a(e,t){if(1&e&&(d.Qb(0,"p",5),d.qc(1),d.Pb()),2&e){var i=d.ac();d.zb(1),d.sc("Agent:",i.item.agentId.userId.name,"")}}function b(e,t){if(1&e&&(d.Qb(0,"p",5),d.qc(1),d.Pb()),2&e){var i=d.ac();d.zb(1),d.sc("Rooms:",i.item.rooms.length,"")}}function u(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",10),d.Yb("click",(function(){d.kc(i);var e=d.ac();return e.editRedirect(e.item._id)})),d.qc(1," edit"),d.Pb()}}function l(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",11),d.Yb("click",(function(){d.kc(i);var e=d.ac();return e.removeAgentBtn(e.item._id)})),d.qc(1,"Remove agent"),d.Pb()}}var g,m=function(e){return["../../../userView",e]},f=((g=function(){function e(t,i,n){_classCallCheck(this,e),this.RemoveAgent=t,this.toastr=i,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.type=localStorage.getItem("type"),console.log(this.item)}},{key:"editRedirect",value:function(e){this.router.navigate(["/building/manage/edit",e])}},{key:"viewRedirect",value:function(e){this.router.navigate(["/building",e])}},{key:"removeAgentBtn",value:function(e){var t=this;this.RemoveAgent.mutate({buildingId:e}).subscribe((function(e){e.data.RemoveAgent.Errors&&e.data.RemoveAgent.Errors.length>0?e.data.RemoveAgent.Errors.forEach((function(e){t.toastr.error(e.message,"Unsuccessfully")})):t.item.agentId=null}))}}]),e}()).\u0275fac=function(e){return new(e||g)(d.Lb(r.x),d.Lb(c.b),d.Lb(s.c))},g.\u0275cmp=d.Fb({type:g,selectors:[["app-myBuildingCard"]],inputs:{item:"item"},decls:16,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[3,"routerLink"],[1,"card-text"],["class","card-text",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.qc(2),d.Pb(),d.Qb(3,"div",2),d.Qb(4,"h5",3),d.qc(5,"Owner Name:"),d.Qb(6,"a",4),d.qc(7),d.Pb(),d.Pb(),d.Qb(8,"p",5),d.qc(9),d.Pb(),d.pc(10,a,2,1,"p",6),d.pc(11,b,2,1,"p",6),d.Qb(12,"button",7),d.Yb("click",(function(){return t.viewRedirect(t.item._id)})),d.qc(13,"View More"),d.Pb(),d.pc(14,u,2,0,"button",8),d.pc(15,l,2,0,"button",9),d.Pb(),d.Pb()),2&e&&(d.zb(2),d.sc(" ",t.item.name," "),d.zb(4),d.dc("routerLink",d.gc(8,m,null==t.item||null==t.item.ownersId?null:t.item.ownersId.userId._id)),d.zb(1),d.rc(t.item.ownersId.userId.name),d.zb(2),d.sc("Adresss:",t.item.address,""),d.zb(1),d.dc("ngIf",t.item.agentId),d.zb(1),d.dc("ngIf",t.item.rooms),d.zb(3),d.dc("ngIf",2==t.type),d.zb(1),d.dc("ngIf",t.item.agentId))},directives:[s.f,n.j],styles:[""]}),g),h=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},p=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},v=function(){return{"border-radius":"2px",width:"10%",height:"25px"}},P=function(){return{"border-radius":"2px",width:"10%",height:"50px"}};function Q(e,t){1&e&&(d.Qb(0,"div",4),d.Qb(1,"div",5),d.Qb(2,"div",6),d.Mb(3,"ngx-skeleton-loader",7),d.Pb(),d.Qb(4,"div",8),d.Qb(5,"h5",9),d.Mb(6,"ngx-skeleton-loader",7),d.Pb(),d.Qb(7,"p",10),d.Mb(8,"ngx-skeleton-loader",7),d.Pb(),d.Qb(9,"p",10),d.Mb(10,"ngx-skeleton-loader",7),d.Pb(),d.Qb(11,"a",11),d.Mb(12,"ngx-skeleton-loader",7),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(3),d.dc("theme",d.fc(5,h)),d.zb(3),d.dc("theme",d.fc(6,h)),d.zb(2),d.dc("theme",d.fc(7,p)),d.zb(2),d.dc("theme",d.fc(8,v)),d.zb(2),d.dc("theme",d.fc(9,P)))}var k=function(){return[1,2,3,4,5,6,7]};function y(e,t){1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.pc(2,Q,13,10,"div",3),d.Pb(),d.Pb()),2&e&&(d.zb(2),d.dc("ngForOf",d.fc(1,k)))}function I(e,t){1&e&&(d.Qb(0,"div",4),d.Qb(1,"div",13),d.qc(2," No Record To Show "),d.Pb(),d.Pb())}function q(e,t){if(1&e&&(d.Qb(0,"div",4),d.Mb(1,"app-myBuildingCard",14),d.Pb()),2&e){var i=t.$implicit;d.zb(1),d.dc("item",i)}}function B(e,t){if(1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.pc(2,I,3,0,"div",12),d.pc(3,q,2,1,"div",3),d.Pb(),d.Pb()),2&e){var i=d.ac();d.zb(2),d.dc("ngIf",i.buildings&&0==i.buildings.length),d.zb(1),d.dc("ngForOf",i.buildings)}}var x,z=((x=function(){function e(t){_classCallCheck(this,e),this.GetAllBuildingOfOwner=t,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.type=localStorage.getItem("type"),this.isLoading=!0,this.GetAllBuildingOfOwner.watch({},{fetchPolicy:"network-only"}).valueChanges.subscribe((function(t){e.buildings=t.data.GetAllBuildingOfOwner,e.isLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||x)(d.Lb(r.k))},x.\u0275cmp=d.Fb({type:x,selectors:[["app-myBuilding"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],["class","col-12 col-md-12 col-sm-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["count","1",3,"theme"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"widows","500px","height","50px"],["class","col-12 col-md-12 col-sm-12",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"item"]],template:function(e,t){1&e&&(d.pc(0,y,3,2,"div",0),d.pc(1,B,4,2,"div",0)),2&e&&(d.dc("ngIf",t.isLoading&&!t.buildings),d.zb(1),d.dc("ngIf",!t.isLoading&&t.buildings))},directives:[n.j,n.i,o.a,f],styles:[""]}),x);function w(e,t){if(1&e&&(d.Qb(0,"p",5),d.qc(1),d.Pb()),2&e){var i=d.ac();d.zb(1),d.sc("Agent:",i.item.agentId.userId.name,"")}}function A(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",10),d.Yb("click",(function(){d.kc(i);var e=d.ac();return e.CreateRequest(e.item._id)})),d.qc(1),d.Pb()}if(2&e){var n=d.ac();d.dc("disabled",n.requestLoading),d.zb(1),d.rc(n.requestLoading?"Loading":"Send Request")}}var R,C=function(e){return["../userView",e]},L=((R=function(){function e(t,i){_classCallCheck(this,e),this.toastr=t,this.CreateRequests=i,this.requestLoading=!1,this.requestVisible=!0}return _createClass(e,[{key:"ngOnInit",value:function(){console.log(this.item)}},{key:"CreateRequest",value:function(e){var t=this;this.requestLoading=!0,this.CreateRequests.mutate({building:e}).subscribe((function(e){e.data.CreateRequest.Errors&&e.data.CreateRequest.Errors.length>0?e.data.CreateRequest.Errors.forEach((function(e){t.toastr.error(e.message,e.error)})):(t.toastr.success("request sended Successfully"),t.requestVisible=!1),t.requestLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||R)(d.Lb(c.b),d.Lb(r.i))},R.\u0275cmp=d.Fb({type:R,selectors:[["app-buildingCard"]],inputs:{item:"item"},decls:17,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[3,"routerLink"],[1,"card-text"],["class","card-text",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-primary","m-2",3,"routerLink"],["class","btn btn-warning",3,"disabled","click",4,"ngIf"],[1,"btn","btn-warning",3,"disabled","click"]],template:function(e,t){1&e&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.qc(2),d.Pb(),d.Qb(3,"div",2),d.Qb(4,"h5",3),d.qc(5,"Owner Name:"),d.Qb(6,"a",4),d.qc(7),d.Pb(),d.Pb(),d.Qb(8,"p",5),d.qc(9),d.Pb(),d.Qb(10,"p",5),d.qc(11),d.Pb(),d.pc(12,w,2,1,"p",6),d.Pb(),d.Qb(13,"div",7),d.Qb(14,"button",8),d.qc(15,"View More"),d.Pb(),d.pc(16,A,2,2,"button",9),d.Pb(),d.Pb()),2&e&&(d.zb(2),d.sc(" ",t.item.name," "),d.zb(4),d.dc("routerLink",d.gc(8,C,null==t.item||null==t.item.ownersId?null:t.item.ownersId.userId._id)),d.zb(1),d.rc(t.item.ownersId.userId.name),d.zb(2),d.sc("Adresss:",t.item.address,""),d.zb(2),d.sc("Rooms:",t.item.rooms.length,""),d.zb(1),d.dc("ngIf",t.item.agentId),d.zb(2),d.dc("routerLink",t.item._id),d.zb(2),d.dc("ngIf",t.requestVisible))},directives:[s.f,n.j,s.d],styles:[""]}),R),F=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},M=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},_=function(){return{"border-radius":"2px",width:"10%",height:"25px"}},O=function(){return{"border-radius":"2px",width:"10%",height:"50px"}};function N(e,t){1&e&&(d.Qb(0,"div",4),d.Qb(1,"div",5),d.Qb(2,"div",6),d.Mb(3,"ngx-skeleton-loader",7),d.Pb(),d.Qb(4,"div",8),d.Qb(5,"h5",9),d.Mb(6,"ngx-skeleton-loader",7),d.Pb(),d.Qb(7,"p",10),d.Mb(8,"ngx-skeleton-loader",7),d.Pb(),d.Qb(9,"p",10),d.Mb(10,"ngx-skeleton-loader",7),d.Pb(),d.Qb(11,"a",11),d.Mb(12,"ngx-skeleton-loader",7),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(3),d.dc("theme",d.fc(5,F)),d.zb(3),d.dc("theme",d.fc(6,F)),d.zb(2),d.dc("theme",d.fc(7,M)),d.zb(2),d.dc("theme",d.fc(8,_)),d.zb(2),d.dc("theme",d.fc(9,O)))}var E=function(){return[1,2,3,4,5,6,7]};function S(e,t){1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.pc(2,N,13,10,"div",3),d.Pb(),d.Pb()),2&e&&(d.zb(2),d.dc("ngForOf",d.fc(1,E)))}function G(e,t){1&e&&(d.Qb(0,"div",4),d.Qb(1,"div",13),d.qc(2," No Record To Show "),d.Pb(),d.Pb())}function U(e,t){if(1&e&&(d.Qb(0,"div",4),d.Mb(1,"app-buildingCard",14),d.Pb()),2&e){var i=t.$implicit;d.zb(1),d.dc("item",i)}}function j(e,t){if(1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.pc(2,G,3,0,"div",12),d.pc(3,U,2,1,"div",3),d.Pb(),d.Pb()),2&e){var i=d.ac();d.zb(2),d.dc("ngIf",i.buildings&&0==i.buildings.length),d.zb(1),d.dc("ngForOf",i.buildings)}}var Y,V=((Y=function(){function e(t,i){_classCallCheck(this,e),this.GetAllBuilding=t,this.router=i,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.GetAllBuilding.watch().valueChanges.subscribe((function(t){e.buildings=t.data.GetAllBuilding,e.isLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||Y)(d.Lb(r.j),d.Lb(s.c))},Y.\u0275cmp=d.Fb({type:Y,selectors:[["app-building"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],["class","col-12 col-md-12 col-sm-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["count","1",3,"theme"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"widows","500px","height","50px"],["class","col-12 col-md-12 col-sm-12",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"item"]],template:function(e,t){1&e&&(d.pc(0,S,3,2,"div",0),d.pc(1,j,4,2,"div",0)),2&e&&(d.dc("ngIf",t.isLoading&&!t.buildings),d.zb(1),d.dc("ngIf",!t.isLoading&&t.buildings))},directives:[n.j,n.i,o.a,L],styles:[""]}),Y),D=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},J=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},$=function(){return{"border-radius":"2px",width:"30%",height:"25px"}},T=function(){return{"border-radius":"2px",width:"23%",height:"25px"}};function X(e,t){1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.Qb(2,"div",3),d.Qb(3,"div",4),d.Qb(4,"div",5),d.Qb(5,"h5",6),d.Mb(6,"ngx-skeleton-loader",7),d.Pb(),d.Qb(7,"p",8),d.Mb(8,"ngx-skeleton-loader",7),d.Pb(),d.Pb(),d.Qb(9,"ul",9),d.Qb(10,"li",10),d.Mb(11,"ngx-skeleton-loader",7),d.Pb(),d.Qb(12,"li",10),d.Mb(13,"ngx-skeleton-loader",7),d.Pb(),d.Qb(14,"li",10),d.Mb(15,"ngx-skeleton-loader",7),d.Pb(),d.Pb(),d.Qb(16,"div",5),d.Qb(17,"a",11),d.Mb(18,"ngx-skeleton-loader",7),d.Pb(),d.Qb(19,"a",11),d.Mb(20,"ngx-skeleton-loader",7),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(6),d.dc("theme",d.fc(7,D)),d.zb(2),d.dc("theme",d.fc(8,J)),d.zb(3),d.dc("theme",d.fc(9,D)),d.zb(2),d.dc("theme",d.fc(10,$)),d.zb(2),d.dc("theme",d.fc(11,T)),d.zb(3),d.dc("theme",d.fc(12,D)),d.zb(2),d.dc("theme",d.fc(13,D)))}function H(e,t){if(1&e&&(d.Qb(0,"p",8),d.qc(1),d.Pb()),2&e){var i=d.ac(2);d.zb(1),d.sc("Agent: ",i.building.agentId.userId.name,"")}}var K=function(e){return["../../room/view",e]};function W(e,t){if(1&e&&(d.Qb(0,"li",10),d.Qb(1,"a",15),d.qc(2),d.Pb(),d.Pb()),2&e){var i=t.$implicit;d.zb(1),d.dc("routerLink",d.gc(2,K,null==i||null==i.roomId?null:i.roomId._id)),d.zb(1),d.sc("Room:",null==i||null==i.roomId?null:i.roomId.name,"")}}function Z(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",18),d.Yb("click",(function(){return d.kc(i),d.ac(3).statusChange()})),d.qc(1,"Block"),d.Pb()}}function ee(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",18),d.Yb("click",(function(){return d.kc(i),d.ac(3).statusChange()})),d.qc(1,"UnBlock"),d.Pb()}}function te(e,t){if(1&e&&(d.Qb(0,"div",16),d.pc(1,Z,2,0,"button",17),d.pc(2,ee,2,0,"button",17),d.Pb()),2&e){var i=d.ac(2);d.zb(1),d.dc("ngIf",i.building.status),d.zb(1),d.dc("ngIf",!i.building.status)}}function ie(e,t){if(1&e&&(d.Qb(0,"div",1),d.Qb(1,"div",2),d.Qb(2,"div",3),d.Qb(3,"div",4),d.Qb(4,"div",5),d.Qb(5,"h5",6),d.qc(6),d.Pb(),d.Qb(7,"p",8),d.qc(8),d.Pb(),d.Qb(9,"p",8),d.qc(10),d.Pb(),d.pc(11,H,2,1,"p",12),d.Pb(),d.Qb(12,"ul",9),d.pc(13,W,3,4,"li",13),d.Pb(),d.pc(14,te,3,2,"div",14),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e){var i=d.ac();d.zb(6),d.rc(i.building.name),d.zb(2),d.sc("Address:",i.building.address,""),d.zb(2),d.sc("owner:",i.building.ownersId.userId.name,""),d.zb(1),d.dc("ngIf",i.building.agentId),d.zb(2),d.dc("ngForOf",i.building.rooms),d.zb(1),d.dc("ngIf",0==i.type)}}var ne,re=((ne=function(){function e(t,i,n,r,d){_classCallCheck(this,e),this.route=t,this.GetBuildingById=i,this.CreateRequests=n,this.toastr=r,this.BuildingStatusUpdate=d,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.type=localStorage.getItem("type"),this.isLoading=!0,this.route.paramMap.subscribe((function(t){e.GetBuildingById.watch({buildingId:t.get("id")}).valueChanges.subscribe((function(t){setTimeout((function(){e.building=t.data.GetBuildingById,e.isLoading=!1}),5e3)}))}))}},{key:"statusChange",value:function(){var e=this;this.BuildingStatusUpdate.mutate({buildingId:this.building._id}).subscribe((function(t){t.data.BuildingStatusUpdate.Errors&&t.data.BuildingStatusUpdate.Errors.length>0?t.data.BuildingStatusUpdate.Errors.forEach((function(t){e.toastr.error(t.message,t.error)})):(e.toastr.success("Building Status Change Success","Success"),e.building.status=t.data.BuildingStatusUpdate.Data.status)}))}}]),e}()).\u0275fac=function(e){return new(e||ne)(d.Lb(s.a),d.Lb(r.n),d.Lb(r.i),d.Lb(c.b),d.Lb(r.e))},ne.\u0275cmp=d.Fb({type:ne,selectors:[["app-view"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["count","1",3,"theme"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["href","#",1,"card-link"],["class","card-text",4,"ngIf"],["class","list-group-item",4,"ngFor","ngForOf"],["class","card-footer",4,"ngIf"],[3,"routerLink"],[1,"card-footer"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(d.pc(0,X,21,14,"div",0),d.pc(1,ie,15,6,"div",0)),2&e&&(d.dc("ngIf",!t.building&&t.isLoading),d.zb(1),d.dc("ngIf",t.building&&!t.isLoading))},directives:[n.j,o.a,n.i,s.f],styles:[""]}),ne),de=i("3Pt+");function oe(e,t){1&e&&(d.Qb(0,"div",12),d.qc(1," Name is required "),d.Pb())}function ce(e,t){1&e&&(d.Qb(0,"div",12),d.qc(1," Address is required "),d.Pb())}function se(e,t){1&e&&(d.Qb(0,"div",12),d.qc(1," Name is required "),d.Pb())}function ae(e,t){1&e&&(d.Qb(0,"div",12),d.qc(1," Address is required "),d.Pb())}function be(e,t){if(1&e){var i=d.Rb();d.Qb(0,"div",13),d.Qb(1,"div",14),d.Mb(2,"hr",15),d.Qb(3,"div",16),d.Mb(4,"input",17),d.pc(5,se,2,0,"div",6),d.Pb(),d.Qb(6,"div",16),d.Mb(7,"textarea",18),d.qc(8),d.pc(9,ae,2,0,"div",6),d.Pb(),d.Qb(10,"div",4),d.Qb(11,"button",19),d.Yb("click",(function(){d.kc(i);var e=t.index;return d.ac().RemoveRoom(e)})),d.qc(12,"Remove Room"),d.Pb(),d.Pb(),d.Mb(13,"hr",15),d.Pb(),d.Pb()}if(2&e){var n=t.$implicit,r=t.index;d.zb(1),d.dc("formGroupName",r),d.zb(4),d.dc("ngIf",n.get("name").touched&&(null==n.get("name").errors?null:n.get("name").errors.required)),d.zb(3),d.sc(" ",n.get("address").valid," "),d.zb(1),d.dc("ngIf",n.get("address").touched&&(null==n.get("address").errors?null:n.get("address").errors.required))}}function ue(e,t){if(1&e){var i=d.Rb();d.Qb(0,"button",20),d.Yb("click",(function(){d.kc(i);var e=d.ac();return e.removeAgentBtn(null==e.building?null:e.building._id)})),d.qc(1,"Remove Agent"),d.Pb()}}function le(e,t){1&e&&(d.Qb(0,"div",11),d.qc(1," Name is required "),d.Pb())}function ge(e,t){1&e&&(d.Qb(0,"div",11),d.qc(1," Address is required "),d.Pb())}function me(e,t){1&e&&(d.Qb(0,"div",11),d.qc(1," Name is required "),d.Pb())}function fe(e,t){1&e&&(d.Qb(0,"div",11),d.qc(1," Address is required "),d.Pb())}function he(e,t){if(1&e){var i=d.Rb();d.Qb(0,"div",12),d.Qb(1,"div",13),d.Mb(2,"hr",14),d.Qb(3,"div",15),d.Mb(4,"input",16),d.pc(5,me,2,0,"div",6),d.Pb(),d.Qb(6,"div",15),d.Mb(7,"textarea",17),d.qc(8),d.pc(9,fe,2,0,"div",6),d.Pb(),d.Qb(10,"div",4),d.Qb(11,"button",18),d.Yb("click",(function(){d.kc(i);var e=t.index;return d.ac().RemoveRoom(e)})),d.qc(12,"Remove Room"),d.Pb(),d.Pb(),d.Mb(13,"hr",14),d.Pb(),d.Pb()}if(2&e){var n=t.$implicit,r=t.index;d.zb(1),d.dc("formGroupName",r),d.zb(4),d.dc("ngIf",n.get("name").touched&&(null==n.get("name").errors?null:n.get("name").errors.required)),d.zb(3),d.sc(" ",n.get("address").valid," "),d.zb(1),d.dc("ngIf",n.get("address").touched&&(null==n.get("address").errors?null:n.get("address").errors.required))}}var pe,ve,Pe,Qe,ke=[{path:"",component:V},{path:":id",component:re},{path:"manage",children:[{path:"edit",component:z},{path:"edit/:id",component:(ve=function(){function e(t,i,n,r,d,o,c){_classCallCheck(this,e),this.fb=t,this.AddBuilding=i,this.toastr=n,this.GetBuildingById=r,this.UpdateBuilding=d,this.route=o,this.RemoveAgent=c,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe((function(t){e.id=t.get("id"),e.GetBuildingById.watch({buildingId:t.get("id")},{fetchPolicy:"network-only"}).valueChanges.subscribe((function(t){e.building=t.data.GetBuildingById,e.AddBuildingForm=e.fb.group({name:[t.data.GetBuildingById.name,de.n.required],address:[t.data.GetBuildingById.address,de.n.required],rooms:e.fb.array([])})}))})),this.AddBuildingForm=this.fb.group({name:["",de.n.required],address:["",de.n.required],rooms:this.fb.array([])})}},{key:"AddRoom",value:function(){this.rooms.push(this.room)}},{key:"RemoveRoom",value:function(e){this.rooms.removeAt(e)}},{key:"onSubmit",value:function(e){var t=this;this.UpdateBuilding.mutate(Object.assign(Object.assign({},e.value),{id:this.id})).subscribe((function(e){e.errors&&e.errors.length>0?e.errors.forEach((function(e){t.toastr.error(e.message,"server error")})):e.data.UpdateBuilding.Errors&&e.data.UpdateBuilding.Errors.length>0?e.data.UpdateBuilding.Errors.forEach((function(e){t.toastr.error(e.message,"server error")})):(t.AddBuildingForm=t.fb.group({name:[e.data.UpdateBuilding.Data.name,de.n.required],address:[e.data.UpdateBuilding.Data.address,de.n.required],rooms:t.fb.array([])}),t.toastr.success("Successfully added Building","Success"))}))}},{key:"removeAgentBtn",value:function(e){var t=this;this.RemoveAgent.mutate({buildingId:e}).subscribe((function(e){e.data.RemoveAgent.Errors&&e.data.RemoveAgent.Errors.length>0?e.data.RemoveAgent.Errors.forEach((function(e){t.toastr.error(e.message,"Unsuccessfully")})):t.building.agentId=null}))}},{key:"rooms",get:function(){return this.AddBuildingForm.controls.rooms}},{key:"name",get:function(){return this.AddBuildingForm.controls.name}},{key:"address",get:function(){return this.AddBuildingForm.controls.address}},{key:"room",get:function(){return this.fb.group({name:["",de.n.required],address:["",de.n.required]})}}]),e}(),ve.\u0275fac=function(e){return new(e||ve)(d.Lb(de.c),d.Lb(r.a),d.Lb(c.b),d.Lb(r.n),d.Lb(r.A),d.Lb(s.a),d.Lb(r.x))},ve.\u0275cmp=d.Fb({type:ve,selectors:[["app-edit"]],decls:18,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[3,"formGroup"],[1,"col"],["type","text","formControlName","name","placeholder","Building Name",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Address","formControlName","address",1,"form-control"],["class","row","formArrayName","rooms",4,"ngFor","ngForOf"],[1,"btn","btn-primary","m-5",3,"click"],["class","btn btn-danger m-5",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-block","btn-lg","m-5",3,"disabled","click"],[1,"text","text-danger","mt-1"],["formArrayName","rooms",1,"row"],[3,"formGroupName"],[2,"border-top","1px solid #8c8b8b"],[1,"col","m-5"],["type","text","formControlName","name","placeholder","Room Name",1,"form-control"],["formControlName","address","placeholder","Room Address",1,"form-control"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-danger","m-5",3,"click"]],template:function(e,t){1&e&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3),d.Qb(4,"div",1),d.Qb(5,"div",4),d.Mb(6,"input",5),d.pc(7,oe,2,0,"div",6),d.Pb(),d.Qb(8,"div",4),d.Mb(9,"textarea",7),d.pc(10,ce,2,0,"div",6),d.Pb(),d.Pb(),d.pc(11,be,14,4,"div",8),d.Qb(12,"button",9),d.Yb("click",(function(){return t.AddRoom()})),d.qc(13,"add Room"),d.Pb(),d.pc(14,ue,2,0,"button",10),d.Qb(15,"button",11),d.Yb("click",(function(){return t.onSubmit(t.AddBuildingForm)})),d.Qb(16,"span"),d.qc(17),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(3),d.dc("formGroup",t.AddBuildingForm),d.zb(4),d.dc("ngIf",t.AddBuildingForm.get("name").touched&&(null==t.AddBuildingForm.get("name").errors?null:t.AddBuildingForm.get("name").errors.required)),d.zb(3),d.dc("ngIf",t.address.touched&&(null==t.address.errors?null:t.address.errors.required)),d.zb(1),d.dc("ngForOf",t.AddBuildingForm.get("rooms").controls),d.zb(3),d.dc("ngIf",null==t.building?null:t.building.agentId),d.zb(1),d.Db("loader--text",t.isLoading),d.dc("disabled",!t.AddBuildingForm.valid&&!t.AddBuildingForm.dirty),d.zb(2),d.rc(t.isLoading?"":"Update Building"))},directives:[de.p,de.i,de.e,de.a,de.h,de.d,n.j,n.i,de.b,de.f],styles:[""]}),ve)},{path:"my",component:z},{path:"add",component:(pe=function(){function e(t,i,n){_classCallCheck(this,e),this.fb=t,this.AddBuilding=i,this.toastr=n,this.isLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.AddBuildingForm=this.fb.group({name:[[""],de.n.required],address:[[""],de.n.required],rooms:this.fb.array([])})}},{key:"AddRoom",value:function(){this.rooms.push(this.room)}},{key:"RemoveRoom",value:function(e){this.rooms.removeAt(e)}},{key:"onSubmit",value:function(e){var t=this;this.AddBuilding.mutate(e.value).subscribe((function(e){e.errors&&e.errors.length>0?e.errors.forEach((function(e){t.toastr.error(e.message,"server error")})):e.data.AddBuilding.Errors&&e.data.AddBuilding.Errors.length>0?e.data.AddBuilding.Errors.forEach((function(e){t.toastr.error(e.message,"server error")})):t.toastr.success("Successfully added Building","Success")}))}},{key:"rooms",get:function(){return this.AddBuildingForm.controls.rooms}},{key:"name",get:function(){return this.AddBuildingForm.controls.name}},{key:"address",get:function(){return this.AddBuildingForm.controls.address}},{key:"room",get:function(){return this.fb.group({name:[[""],de.n.required],address:[[""],de.n.required]})}}]),e}(),pe.\u0275fac=function(e){return new(e||pe)(d.Lb(de.c),d.Lb(r.a),d.Lb(c.b))},pe.\u0275cmp=d.Fb({type:pe,selectors:[["app-add"]],decls:17,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[3,"formGroup"],[1,"col"],["type","text","formControlName","name","placeholder","Building Name",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Address","formControlName","address",1,"form-control"],["class","row","formArrayName","rooms",4,"ngFor","ngForOf"],[1,"btn","btn-primary","m-5",3,"click"],[1,"btn","btn-primary","btn-block","btn-lg","m-5",3,"disabled","click"],[1,"text","text-danger","mt-1"],["formArrayName","rooms",1,"row"],[3,"formGroupName"],[2,"border-top","1px solid #8c8b8b"],[1,"col","m-5"],["type","text","formControlName","name","placeholder","Room Name",1,"form-control"],["formControlName","address","placeholder","Room Address",1,"form-control"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3),d.Qb(4,"div",1),d.Qb(5,"div",4),d.Mb(6,"input",5),d.pc(7,le,2,0,"div",6),d.Pb(),d.Qb(8,"div",4),d.Mb(9,"textarea",7),d.pc(10,ge,2,0,"div",6),d.Pb(),d.Pb(),d.pc(11,he,14,4,"div",8),d.Qb(12,"button",9),d.Yb("click",(function(){return t.AddRoom()})),d.qc(13,"add Room"),d.Pb(),d.Qb(14,"button",10),d.Yb("click",(function(){return t.onSubmit(t.AddBuildingForm)})),d.Qb(15,"span"),d.qc(16),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e&&(d.zb(3),d.dc("formGroup",t.AddBuildingForm),d.zb(4),d.dc("ngIf",t.AddBuildingForm.get("name").touched&&(null==t.AddBuildingForm.get("name").errors?null:t.AddBuildingForm.get("name").errors.required)),d.zb(3),d.dc("ngIf",t.address.touched&&(null==t.address.errors?null:t.address.errors.required)),d.zb(1),d.dc("ngForOf",t.AddBuildingForm.get("rooms").controls),d.zb(3),d.Db("loader--text",t.isLoading),d.dc("disabled",!t.AddBuildingForm.valid),d.zb(2),d.rc(t.isLoading?"":"Add Building"))},directives:[de.p,de.i,de.e,de.a,de.h,de.d,n.j,n.i,de.b,de.f],styles:[""]}),pe)}]}],ye=((Qe=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:Qe}),Qe.\u0275inj=d.Ib({factory:function(e){return new(e||Qe)},imports:[[s.g.forChild(ke)],s.g]}),Qe),Ie=((Pe=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:Pe}),Pe.\u0275inj=d.Ib({factory:function(e){return new(e||Pe)},imports:[[n.b,ye,de.k,de.g,o.b]]}),Pe)}}]);