(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0Gla":function(t,n,e){"use strict";e.r(n),e.d(n,"RoomModule",(function(){return dt}));var o=e("ofXK"),r=e("QQEI"),c=e("fXoL"),i=e("5eHb"),d=e("xJkR"),s=e("tyNb");const b=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},a=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},u=function(){return{"border-radius":"2px",width:"10%",height:"25px"}},l=function(){return{"border-radius":"2px",width:"10%",height:"50px"}};function m(t,n){1&t&&(c.Qb(0,"div",5),c.Qb(1,"div",6),c.Qb(2,"div",7),c.Mb(3,"ngx-skeleton-loader",8),c.Pb(),c.Qb(4,"div",9),c.Qb(5,"h5",10),c.Mb(6,"ngx-skeleton-loader",8),c.Pb(),c.Qb(7,"p",11),c.Mb(8,"ngx-skeleton-loader",8),c.Pb(),c.Qb(9,"p",11),c.Mb(10,"ngx-skeleton-loader",8),c.Pb(),c.Qb(11,"a",12),c.Mb(12,"ngx-skeleton-loader",8),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(3),c.dc("theme",c.fc(5,b)),c.zb(3),c.dc("theme",c.fc(6,b)),c.zb(2),c.dc("theme",c.fc(7,a)),c.zb(2),c.dc("theme",c.fc(8,u)),c.zb(2),c.dc("theme",c.fc(9,l)))}const g=function(){return[1,2,3,4,5,6,7]};function f(t,n){1&t&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.pc(2,m,13,10,"div",4),c.Pb(),c.Pb()),2&t&&(c.zb(2),c.dc("ngForOf",c.fc(1,g)))}function h(t,n){1&t&&(c.Qb(0,"div",5),c.Qb(1,"div",13),c.qc(2," No Record To Show "),c.Pb(),c.Pb())}function p(t,n){1&t&&(c.Qb(0,"p"),c.qc(1,"Blocked"),c.Pb())}function P(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",18),c.Yb("click",(function(){c.kc(t);const n=c.ac(2).$implicit;return c.ac().RemoveTenant(n._id)})),c.qc(1,"Remove tenant"),c.Pb()}}const Q=function(t){return["../../../room/view",t]},I=function(t){return["../../../userView",t]},v=function(t){return["../../../building",t]};function w(t,n){if(1&t&&(c.Qb(0,"div",6),c.Qb(1,"div",7),c.qc(2," Room Name:"),c.Qb(3,"a",15),c.qc(4),c.Pb(),c.Pb(),c.Qb(5,"div",9),c.Qb(6,"h2",10),c.qc(7,"EcMember:"),c.Qb(8,"a",15),c.qc(9),c.Pb(),c.Pb(),c.Qb(10,"h5",10),c.qc(11,"Building:"),c.Qb(12,"a",15),c.qc(13),c.Pb(),c.Pb(),c.Qb(14,"p",11),c.qc(15),c.Pb(),c.Qb(16,"p",11),c.qc(17," tenant Name:"),c.Qb(18,"a",15),c.qc(19),c.Pb(),c.Pb(),c.pc(20,p,2,0,"p",16),c.pc(21,P,2,0,"button",17),c.Pb(),c.Pb()),2&t){const t=c.ac().$implicit;c.zb(3),c.dc("routerLink",c.gc(11,Q,null==t?null:t._id)),c.zb(1),c.rc(t.name),c.zb(4),c.dc("routerLink",c.gc(13,I,null==t||null==t.ownersId||null==t.ownersId.userId?null:t.ownersId.userId._id)),c.zb(1),c.rc(null==t||null==t.ownersId||null==t.ownersId.userId?null:t.ownersId.userId.name),c.zb(3),c.dc("routerLink",c.gc(15,v,null==t?null:t.building._id)),c.zb(1),c.rc(t.building.name),c.zb(2),c.sc("Address: ",t.address,""),c.zb(3),c.dc("routerLink",c.gc(17,I,null==t.tenantId||null==t.tenantId.userId?null:t.tenantId.userId._id)),c.zb(1),c.rc(null==t.tenantId||null==t.tenantId.userId?null:t.tenantId.userId.name),c.zb(1),c.dc("ngIf",!t.status),c.zb(1),c.dc("ngIf",t.tenantId&&t.status)}}function z(t,n){if(1&t&&(c.Qb(0,"div",5),c.pc(1,w,22,19,"div",14),c.Pb()),2&t){const t=n.$implicit,e=c.ac();c.zb(1),c.dc("ngIf",t.status||0==e.type)}}let x=(()=>{class t{constructor(t,n,e){this.getRoomOfOwner=t,this.toastr=n,this.RemoveTenantFromRoom=e,this.isLoading=!1}ngOnInit(){this.type=localStorage.getItem("type"),this.isLoading=!0,this.getRoomOfOwner.watch({},{fetchPolicy:"network-only"}).valueChanges.subscribe(t=>{this.rooms=t.data.getRoomOfOwner,this.isLoading=!1})}RemoveTenant(t){console.log(t),this.RemoveTenantFromRoom.mutate({roomId:t}).subscribe(t=>{t.data.RemoveTenantFromRoom.Errors&&t.data.RemoveTenantFromRoom.Errors.length>0?t.data.RemoveTenantFromRoom.Errors.forEach(t=>{this.toastr.error(t.message,t.error)}):(this.toastr.success("request sended Successfully"),this.type=-1)})}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(r.r),c.Lb(i.b),c.Lb(r.y))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-myRoom"]],decls:5,vars:3,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],["class","col-12 col-md-12 col-sm-12",4,"ngIf"],["class","col-12 col-md-12 col-sm-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["count","1",3,"theme"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"widows","500px","height","50px"],["role","alert",1,"alert","alert-warning"],["class","card",4,"ngIf"],[3,"routerLink"],[4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(c.pc(0,f,3,2,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.pc(3,h,3,0,"div",3),c.pc(4,z,2,1,"div",4),c.Pb(),c.Pb()),2&t&&(c.dc("ngIf",n.isLoading&&!n.rooms),c.zb(3),c.dc("ngIf",n.rooms&&0==n.rooms.length),c.zb(1),c.dc("ngForOf",n.rooms))},directives:[o.j,o.i,d.a,s.f],styles:[""]}),t})();const q=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},k=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},y=function(){return{"border-radius":"2px",width:"10%",height:"25px"}},R=function(){return{"border-radius":"2px",width:"10%",height:"50px"}};function L(t,n){1&t&&(c.Qb(0,"div",4),c.Qb(1,"div",5),c.Qb(2,"div",6),c.Mb(3,"ngx-skeleton-loader",7),c.Pb(),c.Qb(4,"div",8),c.Qb(5,"h5",9),c.Mb(6,"ngx-skeleton-loader",7),c.Pb(),c.Qb(7,"p",10),c.Mb(8,"ngx-skeleton-loader",7),c.Pb(),c.Qb(9,"p",10),c.Mb(10,"ngx-skeleton-loader",7),c.Pb(),c.Qb(11,"a",11),c.Mb(12,"ngx-skeleton-loader",7),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(3),c.dc("theme",c.fc(5,q)),c.zb(3),c.dc("theme",c.fc(6,q)),c.zb(2),c.dc("theme",c.fc(7,k)),c.zb(2),c.dc("theme",c.fc(8,y)),c.zb(2),c.dc("theme",c.fc(9,R)))}const F=function(){return[1,2,3,4,5,6,7]};function B(t,n){1&t&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.pc(2,L,13,10,"div",3),c.Pb(),c.Pb()),2&t&&(c.zb(2),c.dc("ngForOf",c.fc(1,F)))}const C=function(t){return["../userView",t]};function M(t,n){if(1&t&&(c.Qb(0,"p",10),c.qc(1,"tenant Name:"),c.Qb(2,"a",13),c.qc(3),c.Pb(),c.Pb()),2&t){const t=c.ac(2).$implicit;c.zb(2),c.dc("routerLink",c.gc(2,C,null==t?null:t.tenantId.userId._id)),c.zb(1),c.rc(t.tenantId.userId.name)}}function A(t,n){1&t&&(c.Qb(0,"p",10),c.qc(1,"tenant Name: No Tenant"),c.Pb())}const N=function(t){return["view",t]},O=function(t){return["../building",t]};function E(t,n){if(1&t&&(c.Qb(0,"div",5),c.Qb(1,"div",6),c.qc(2," Room Name:"),c.Qb(3,"a",13),c.qc(4),c.Pb(),c.Pb(),c.Qb(5,"div",8),c.Qb(6,"h2",9),c.qc(7,"EcMember:"),c.Qb(8,"a",13),c.qc(9),c.Pb(),c.Pb(),c.Qb(10,"h5",9),c.qc(11,"Building:"),c.Qb(12,"a",13),c.qc(13),c.Pb(),c.Pb(),c.Qb(14,"p",10),c.qc(15),c.Pb(),c.pc(16,M,4,4,"p",14),c.pc(17,A,2,0,"p",14),c.Pb(),c.Pb()),2&t){const t=c.ac().$implicit;c.zb(3),c.dc("routerLink",c.gc(9,N,null==t?null:t._id)),c.zb(1),c.sc(" ",t.name,""),c.zb(4),c.dc("routerLink",c.gc(11,C,null==t?null:t.ownersId.userId._id)),c.zb(1),c.rc(null==t||null==t.ownersId||null==t.ownersId.userId?null:t.ownersId.userId.name),c.zb(3),c.dc("routerLink",c.gc(13,O,null==t?null:t.building._id)),c.zb(1),c.rc(t.building.name),c.zb(2),c.sc("Address: ",t.address,""),c.zb(1),c.dc("ngIf",t.tenantId),c.zb(1),c.dc("ngIf",!t.tenantId)}}function S(t,n){if(1&t&&(c.Qb(0,"div",4),c.pc(1,E,18,15,"div",12),c.Pb()),2&t){const t=n.$implicit,e=c.ac();c.zb(1),c.dc("ngIf",t.status||0==e.type)}}let _=(()=>{class t{constructor(t,n,e){this.GetAllRooms=t,this.CreateRequests=n,this.toastr=e,this.isLoading=!1,this.showButton=!0}ngOnInit(){this.isLoading=!0,this.type=localStorage.getItem("type"),this.GetAllRooms.watch({},{fetchPolicy:"no-cache"}).valueChanges.subscribe(t=>{this.rooms=t.data.GetAllRooms,this.isLoading=!1})}CreateRequest(t){this.CreateRequests.mutate({roomId:t},{fetchPolicy:"no-cache"}).subscribe(t=>{t.data.CreateRequest.Errors&&t.data.CreateRequest.Errors.length>0?t.data.CreateRequest.Errors.forEach(t=>{this.toastr.error(t.message,t.error)}):this.toastr.success("request sended Successfully")})}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(r.m),c.Lb(r.i),c.Lb(i.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-room"]],decls:4,vars:2,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],["class","col-12 col-md-12 col-sm-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["count","1",3,"theme"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"widows","500px","height","50px"],["class","card",4,"ngIf"],[3,"routerLink"],["class","card-text",4,"ngIf"]],template:function(t,n){1&t&&(c.pc(0,B,3,2,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.pc(3,S,2,1,"div",3),c.Pb(),c.Pb()),2&t&&(c.dc("ngIf",n.isLoading&&!n.rooms),c.zb(3),c.dc("ngForOf",n.rooms))},directives:[o.j,o.i,d.a,s.f],styles:[""]}),t})();const T=function(){return{"border-radius":"2px",width:"25%",height:"25px"}},G=function(){return{"border-radius":"2px",width:"50%",height:"25px"}},j=function(){return{"border-radius":"2px",width:"10%",height:"25px"}},$=function(){return{"border-radius":"2px",width:"10%",height:"50px"}};function J(t,n){1&t&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.Qb(2,"div",4),c.Qb(3,"div",5),c.Qb(4,"div",6),c.Mb(5,"ngx-skeleton-loader",7),c.Pb(),c.Qb(6,"div",8),c.Qb(7,"h5",9),c.Mb(8,"ngx-skeleton-loader",7),c.Pb(),c.Qb(9,"p",10),c.Mb(10,"ngx-skeleton-loader",7),c.Pb(),c.Qb(11,"p",10),c.Mb(12,"ngx-skeleton-loader",7),c.Pb(),c.Qb(13,"a",11),c.Mb(14,"ngx-skeleton-loader",7),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(5),c.dc("theme",c.fc(5,T)),c.zb(3),c.dc("theme",c.fc(6,T)),c.zb(2),c.dc("theme",c.fc(7,G)),c.zb(2),c.dc("theme",c.fc(8,j)),c.zb(2),c.dc("theme",c.fc(9,$)))}const Y=function(t){return["../../../userView",t]};function V(t,n){if(1&t&&(c.Qb(0,"p",10),c.qc(1,"tenant Name:"),c.Qb(2,"a",12),c.qc(3),c.Pb(),c.Pb()),2&t){const t=c.ac(2);c.zb(2),c.dc("routerLink",c.gc(2,Y,t.room.tenantId.userId._id)),c.zb(1),c.rc(t.room.tenantId.userId.name)}}function D(t,n){1&t&&(c.Qb(0,"p",10),c.qc(1,"tenant Name: No Tenant"),c.Pb())}function X(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",18),c.Yb("click",(function(){return c.kc(t),c.ac(3).statusChange()})),c.qc(1,"UnBlock"),c.Pb()}}function H(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",19),c.Yb("click",(function(){return c.kc(t),c.ac(3).statusChange()})),c.qc(1," Block"),c.Pb()}}function K(t,n){if(1&t&&(c.Qb(0,"div",15),c.pc(1,X,2,0,"button",16),c.pc(2,H,2,0,"button",17),c.Pb()),2&t){const t=c.ac(2);c.zb(1),c.dc("ngIf",!t.room.status),c.zb(1),c.dc("ngIf",t.room.status)}}const U=function(t){return["../../../building",t]};function W(t,n){if(1&t&&(c.Qb(0,"div",4),c.Qb(1,"div",5),c.Qb(2,"div",6),c.qc(3),c.Pb(),c.Qb(4,"div",8),c.Qb(5,"h2",9),c.qc(6,"EcMember:"),c.Qb(7,"a",12),c.qc(8),c.Pb(),c.Pb(),c.Qb(9,"h5",9),c.qc(10,"Building:"),c.Qb(11,"a",12),c.qc(12),c.Pb(),c.Pb(),c.Qb(13,"p",10),c.qc(14),c.Pb(),c.pc(15,V,4,4,"p",13),c.pc(16,D,2,0,"p",13),c.Pb(),c.pc(17,K,3,2,"div",14),c.Pb(),c.Pb()),2&t){const t=c.ac();c.zb(3),c.sc(" Room Name: ",t.room.name," "),c.zb(4),c.dc("routerLink",c.gc(9,Y,t.room.ownersId.userId._id)),c.zb(1),c.rc(null==t.room||null==t.room.ownersId||null==t.room.ownersId.userId?null:t.room.ownersId.userId.name),c.zb(3),c.dc("routerLink",c.gc(11,U,null==t.room?null:t.room.building._id)),c.zb(1),c.rc(t.room.building.name),c.zb(2),c.sc("Address: ",t.room.address,""),c.zb(1),c.dc("ngIf",t.room.tenantId),c.zb(1),c.dc("ngIf",!t.room.tenantId),c.zb(1),c.dc("ngIf",0==t.type)}}let Z=(()=>{class t{constructor(t,n,e,o){this.GetRoomById=t,this.router=n,this.RoomStatusChange=e,this.toastr=o,this.isLoading=!1,this.type=localStorage.getItem("type")}ngOnInit(){this.isLoading=!0,this.router.paramMap.subscribe(t=>{this.GetRoomById.watch({roomId:t.get("id")},{fetchPolicy:"network-only"}).valueChanges.subscribe(t=>{this.room=t.data.GetRoomById,this.isLoading=!1})})}statusChange(){this.RoomStatusChange.mutate({roomId:this.room._id}).subscribe(t=>{t.data.RoomStatusChange.Errors&&t.data.RoomStatusChange.Errors.length>0?t.data.RoomStatusChange.Errors.forEach(t=>{this.toastr.error(t.message,t.error)}):(this.toastr.success("status Changed Successfully","success"),this.room.status=t.data.RoomStatusChange.Data.status)})}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(r.q),c.Lb(s.a),c.Lb(r.z),c.Lb(i.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-view"]],decls:4,vars:2,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],["class","col-12 col-md-12 col-sm-12",4,"ngIf"],[1,"col-12","col-md-12","col-sm-12"],[1,"card"],[1,"card-header"],["count","1",3,"theme"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"widows","500px","height","50px"],[3,"routerLink"],["class","card-text",4,"ngIf"],["class","card-footer",4,"ngIf"],[1,"card-footer"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(c.pc(0,J,15,10,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.pc(3,W,18,13,"div",3),c.Pb(),c.Pb()),2&t&&(c.dc("ngIf",n.isLoading&&!n.room),c.zb(3),c.dc("ngIf",n.room))},directives:[o.j,d.a,s.f],styles:[""]}),t})(),tt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-edit"]],decls:2,vars:0,template:function(t,n){1&t&&(c.Qb(0,"p"),c.qc(1," edit works!\n"),c.Pb())},styles:[""]}),t})();var nt=e("3Pt+");function et(t,n){1&t&&(c.Qb(0,"div",10),c.qc(1," Name is required "),c.Pb())}function ot(t,n){1&t&&(c.Qb(0,"div",10),c.qc(1," Address is required "),c.Pb())}function rt(t,n){1&t&&(c.Qb(0,"div",10),c.qc(1," Building is required "),c.Pb())}const ct=[{path:"",component:_},{path:"view/:id",component:Z},{path:"manage",children:[{path:"edit/:id",component:tt},{path:"my",component:x},{path:"add",component:(()=>{class t{constructor(t){this.fb=t,this.isLoading=!1}get name(){return this.AddBuildingForm.controls.name}get address(){return this.AddBuildingForm.controls.address}get building(){return this.AddBuildingForm.controls.building}ngOnInit(){this.AddBuildingForm=this.fb.group({name:[[""],nt.n.required],address:[[""],nt.n.required],building:[[""],nt.n.required]})}onSubmit(t){console.log(t)}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(nt.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-add"]],decls:22,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[3,"formGroup"],[1,"col"],["type","text","formControlName","name","placeholder","Building Name",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Address","formControlName","address",1,"form-control"],["formControlName","building",1,"form-control"],[1,"btn","btn-primary","btn-block","btn-lg","m-5",3,"disabled","click"],[1,"text","text-danger","mt-1"]],template:function(t,n){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"form",3),c.Qb(4,"div",1),c.Qb(5,"div",4),c.Mb(6,"input",5),c.pc(7,et,2,0,"div",6),c.Pb(),c.Qb(8,"div",4),c.Mb(9,"textarea",7),c.pc(10,ot,2,0,"div",6),c.Pb(),c.Pb(),c.Qb(11,"div",1),c.Qb(12,"div",4),c.Qb(13,"select",8),c.Qb(14,"option"),c.qc(15,"Select building"),c.Pb(),c.Qb(16,"option"),c.qc(17,"building 1"),c.Pb(),c.Pb(),c.pc(18,rt,2,0,"div",6),c.Pb(),c.Pb(),c.Qb(19,"button",9),c.Yb("click",(function(){return n.onSubmit(n.AddBuildingForm)})),c.Qb(20,"span"),c.qc(21),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.zb(3),c.dc("formGroup",n.AddBuildingForm),c.zb(4),c.dc("ngIf",n.AddBuildingForm.get("name").touched&&(null==n.AddBuildingForm.get("name").errors?null:n.AddBuildingForm.get("name").errors.required)),c.zb(3),c.dc("ngIf",n.address.touched&&(null==n.address.errors?null:n.address.errors.required)),c.zb(8),c.dc("ngIf",n.building.touched&&(null==n.building.errors?null:n.building.errors.required)),c.zb(1),c.Db("loader--text",n.isLoading),c.dc("disabled",!n.AddBuildingForm.valid&&n.AddBuildingForm.dirty),c.zb(2),c.rc(n.isLoading?"":"Add Apartment"))},directives:[nt.p,nt.i,nt.e,nt.a,nt.h,nt.d,o.j,nt.m,nt.j,nt.o],styles:[""]}),t})()}]}];let it=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[s.g.forChild(ct)],s.g]}),t})(),dt=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[o.b,it,nt.g,nt.k,d.b]]}),t})()}}]);